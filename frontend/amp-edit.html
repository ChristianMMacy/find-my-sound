<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>EDIT AN AMP</title>
	<script src="http://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
	<link rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Proza+Libre" rel="stylesheet">
	<style>
	@import url(http://fonts.googleapis.com/css?family=Rock+Salt);
	@import url(http://fonts.googleapis.com/css?family=Covered+By+Your+Grace);

	</style>
</head>

<body>
		<div class="row header navbar-fixed-top">

            <div class="ampButtonDiv col-xs-3">
				<div id="ampHomeButton"><img class="ampSubmitLogo" src="./assets/amp.jpg"/><h2>View All Amps</h2></div>
			</div>

            <div class="titleDiv col-xs-6">
				<h1>EDIT AN AMP</h1>
			</div>
		</div>

    <div class="container">
		<div class="noteContainerMaster">
			<div class="row">
				<div class="col-md-12">
					<div class="ampContainer">
							<div class="amp_features"><input id="amp_model" cols="65" placeholder="Model" /></div>
							<div class="amp_features"><input id="amp_manufacturer" placeholder="Brand"/></div></h3>
							<div class="amp_features"><input id="amp_style" placeholder="Style (e.g. rock, metal, blues, country...)" /></div>
							<div class="amp_features"><input id="wattage" placeholder="Wattage" /></div>
							<div class="amp_features"><textarea id="features" rows="4" cols="65" placeholder="Features"></textarea></div>
							<div class="amp_features"><input id="image" placeholder="Image" /></div>
							<div class="amp_features"><input id="video" placeholder="Video Link" /></div>
							<div class="amp_features">Foot Switchable? <input id="foot_switchable" type="radio" name="foot_switchable" value="true"> True <input id="foot_switchable" type="radio" name="foot_switchable" value="false"> False </div>
							<div class="amp_features"><input id="number_of_channels" placeholder="Number of Channels" /></div>
							<div class="amp_features">Midi Capable? <input id="midi_capable" type="radio" name="midi_capable" value="true"> True <input id="midi_capable" type="radio" name="midi_capable" value="false"> False </div>
							<div class="amp_features">Has a Clean Channel? <input id="has_clean" type="radio" name="has_clean" value="true"> True <input id="has_clean" type="radio" name="has_clean" value="false"> False </div>
							<div class="amp_features"><input id="sounds_like_players" placeholder="Players who would use this" /></div>
							<div class="amp_features">Percussive? <input id="percussive" type="radio" name="percussive" value="true"> True <input id="percussive" type="radio" name="percussive" value="false"> False</div>
							<div class="amp_features">How Percussive?<br>
								<select id="percussive_level_amount">
									<option value=""> - choose percussion level - </option>
									<option value="1">1 - not percussive</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - very percussive</option>
								</select>
							</div>
							<div class="amp_features"><input id="feel_overall" placeholder="Overall Feel Description" /></div>
							<div class="amp_features"><input id="feel_low_end" placeholder="Low end feel e.g. tight or loose" /></div>
							<div class="amp_features"><input id="feel_high_end" placeholder="High end feel e.g. smooth or sharp" /></div>
							<div class="amp_features">Feel rating:<br>
								<select id="feel_rating">
									<option value=""> - choose feel rating - </option>
									<option value="1">1 - loose</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - tight</option>
								</select>
							</div>
							<div class="amp_features"><input id="compression_level" placeholder="Compression Description" /></div>
							<div class="amp_features">Compression level:<br>
								<select id="compression_level_amount">
									<option value=""> - choose compression level - </option>
									<option value="1">1 - not compressed</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - very compressed</option>
								</select>
							</div>

							<div class="amp_features"><input id="dynamic_feel_punch_vs_compression" placeholder="Dynamic Feel - punch vs compression description" /></div>
							<div class="amp_features">Easy to Play? <input id="easy_to_play" type="radio" name="easy_to_play" value="true"> True <input id="easy_to_play" type="radio" name="easy_to_play" value="false"> False </div>
							<div class="amp_features">How easty to play?<br>
								<select id="easy_to_play_amount">
									<option value=""> - choose ease of play level - </option>
									<option value="1">1 - difficult to play</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - easy to play</option>
								</select>
							</div>

							<div class="amp_features">Sounds good at low volume? <input id="sound_good_low_volume" type="radio" name="sound_good_low_volume" value="true"> True <input id="sound_good_low_volume" type="radio" name="sound_good_low_volume" value="false"> False </div>
							<div class="amp_features"><input id="preferred_speaker_combination" placeholder="Preferred spakers?" /></div>
							<div class="amp_features"><input id="best_music_genre_served" placeholder="Genre served?" /></div>
							<div class="amp_features"><input id="price_point_new" placeholder="Price NEW" /></div>
							<div class="amp_features"><input id="price_point_used" placeholder="Price USED" /></div>
							<div class="amp_features">How popular?<br>
									<select id="popularity">
										<option value=""> - choose popularity level - </option>
										<option value="1">1 - not popular</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10 - very popular</option>
									</select>
							</div>
							<div class="amp_features">Boutique Amp? <input id="boutique" type="radio" name="boutique" value="true"> True <input id="boutique" type="radio" name="boutique" value="false"> False </div>
							<div class="amp_features">How rare is this amp?<br>
									<select id="rarity">
										<option value=""> - choose rarity level - </option>
										<option value="1">1 - not rare</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10 - very rare</option>
									</select>
							</div>
							<div class="amp_features"><input id="year_introduced" placeholder="Year Introduced" /></div>
							<div class="amp_features">D.I. Capable?<input id="di_capable" type="radio" name="di_capable" value="true"> True <input id="di_capable" type="radio" name="di_capable" value="false"> False </div>
							<div class="amp_features">Has power scaling? <input id="power_scaling" type="radio" name="power_scaling" value="true"> True <input id="power_scaling" type="radio" name="power_scaling" value="false"> False </div>
							<div class="amp_features">Has variac capability? <input id="has_variac" type="radio" name="has_variac" value="true"> True <input id="has_variac" type="radio" name="has_variac" value="false"> False </div>
							<div class="amp_features">Has switchable wattage? <input id="has_switchable_wattage" type="radio" name="has_switchable_wattage" value="true"> True <input id="has_switchable_wattage" type="radio" name="has_switchable_wattage" value="false"> False </div>
							<div class="amp_features">
								<select id="gain_rating">Gain rating:<br>
									<option value=""> - choose gain rating - </option>
									<option value="1">1 - clean amp</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - face melter</option>
								</select>
							</div>
							<div class="amp_features">EQ frustration level:<br>
								<select id="eq_frustration_level">
									<option value=""> - choose how frustrating the amp is to EQ - </option>
									<option value="1">1 - easy to EQ</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - Mesa Boogie Mark Series</option>
								</select>
							</div>
							<div class="amp_features">House friendly? <input id="house_friendly" type="radio" name="house_friendly" value="true"> True <input id="house_friendly" type="radio" name="house_friendly" value="false"> False </div>
							<div class="amp_features">Overall value for price point?<br>
								<select id="overall_value_for_price_point">
									<option value=""> - choose value level for price point - </option>
									<option value="1">1 - poor value</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - great value</option>
								</select>
							</div>
							<div class="amp_features">Clarity:<br>
								<select id="clarity">
									<option value=""> - choose clarity level - </option>
									<option value="1">1 - super muddy</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - super clear</option>
								</select>
							</div>
							<div class="amp_features">Note articulation amount:<br>
								<select id="note_articulation">
									<option value=""> - choose how articulate - </option>
									<option value="1">1 - super mushy</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - super articulate</option>
								</select>
							</div>
							<div class="amp_features">Sparkle:<br>
								<select id="sparkle">
									<option value=""> - choose sparkle level - </option>
									<option value="1">1 - no sparkle</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
									<option value="10">10 - super sparkle</option>
								</select>
							</div>
							<div class="amp_features">Has Serial Effects Loop? <input id="fx_loop_serial" type="radio" name="fx_loop_serial" value="true"> True <input id="fx_loop_serial" type="radio" name="fx_loop_serial" value="false"> False </div>
							<div class="amp_features">Has Parallel Effects Loop? <input id="fx_loop_parallel" type="radio" name="fx_loop_parallel" value="true"> True <input id="fx_loop_parallel" type="radio" name="fx_loop_parallel" value="false"> False </div>
							<div class="amp_features">Has Line Out? <input id="has_line_out" type="radio" name="has_line_out" value="true"> True <input id="has_line_out" type="radio" name="has_line_out" value="false"> False </div>
							<div class="amp_features">Has Resonance or Depth Controls? <input id="has_resonance_or_depth" type="radio" name="has_resonance_or_depth" value="true"> True <input id="has_resonance_or_depth" type="radio" name="has_resonance_or_depth" value="false"> False </div>
							<div class="amp_features"><input id="eq_voicing" placeholder="EQ Voicing description" /></div>
							<div class="amp_features">Tone stack:<br>
								<select id="tone_stack">
									<option value=""> - choose tone stack - </option>
									<option value="Fender">Fender</option>
									<option value="Marshall">Marshall</option>
									<option value="Vox">Vox</option>
									<option value="Other">Other</option>
								</select>
							</div>



						<button type=button id="save_amp" class="btn btn-default"> Save Changes </button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>

    var queryString = new Array();
    $(function () {
        if (queryString.length == 0) {
            if (window.location.search.split('?').length > 1) {
                var params = window.location.search.split('?')[1].split('&');
                for (var i = 0; i < params.length; i++) {
                    var key = params[i].split('=')[0];
                    var value = decodeURIComponent(params[i].split('=')[1]);
                    queryString[key] = value;
                }
            }
        }
        if (queryString["id"] != null) {
            var ampDiv = $('.ampContainer');
            console.log(ampDiv);
            $.get("/ampdetail?query=" + value, function(response){
                var amp = response[0];
                // ampDiv.find('._id').text(amp._id.toString());
                ampDiv.find('#amp_model').val(amp.amp_model);
                // newNoteDiv.find('.noteContainer').click(handleNoteClick);
                ampDiv.find('#amp_manufacturer').val(amp.amp_manufacturer);
                ampDiv.find('#amp_style').val(amp.amp_style);
                ampDiv.find('#wattage').val(amp.wattage);
                ampDiv.find('#features').val(amp.features);
                ampDiv.find('#image').val(amp.image);
				ampDiv.find('#video').val(amp.video);
				ampDiv.find('#foot_switchable').val(amp.foot_switchable);
				ampDiv.find('#number_of_channels').val(amp.number_of_channels);
				ampDiv.find('#midi_capable').val(amp.midi_capable);
				ampDiv.find('#has_clean').val(amp.has_clean);
				ampDiv.find('#sounds_like_players').val(amp.sounds_like_players);
				ampDiv.find('#percussive').val(amp.percussive);
				ampDiv.find('#percussive_level_amount').val(amp.percussive_level_amount);
				ampDiv.find('#feel_overall').val(amp.feel_overall);
				ampDiv.find('#feel_low_end').val(amp.feel_low_end);
				ampDiv.find('#feel_high_end').val(amp.feel_high_end);
				ampDiv.find('#feel_rating').val(amp.feel_rating);
				ampDiv.find('#compression_level').val(amp.compression_level);
				ampDiv.find('#compression_level_amount').val(amp.compression_level_amount);
				ampDiv.find('#dynamic_feel_punch_vs_compression').val(amp.dynamic_feel_punch_vs_compression);
				ampDiv.find('#easy_to_play').val(amp.easy_to_play);
				ampDiv.find('#easy_to_play_amount').val(amp.easy_to_play_amount);
				ampDiv.find('#sound_good_low_volume').val(amp.sound_good_low_volume);
				ampDiv.find('#preferred_speaker_combination').val(amp.preferred_speaker_combination);
				ampDiv.find('#best_music_genre_served').val(amp.best_music_genre_served);
				ampDiv.find('#price_point_new').val(amp.price_point_new);
				ampDiv.find('#price_point_used').val(amp.price_point_used);
				ampDiv.find('#popularity').val(amp.popularity);
				ampDiv.find('#boutique').val(amp.boutique);
				ampDiv.find('#rarity').val(amp.rarity);
				ampDiv.find('#year_introduced').val(amp.year_introduced);
				ampDiv.find('#di_capable').val(amp.di_capable);
				ampDiv.find('#power_scaling').val(amp.power_scaling);
				ampDiv.find('#has_variac').val(amp.has_variac);
				ampDiv.find('#has_switchable_wattage').val(amp.has_switchable_wattage);
				ampDiv.find('#gain_rating').val(amp.gain_rating);
				ampDiv.find('#eq_frustration_level').val(amp.eq_frustration_level);
				ampDiv.find('#house_friendly').val(amp.house_friendly);
				ampDiv.find('#overall_value_for_price_point').val(amp.overall_value_for_price_point);
				ampDiv.find('#clarity').val(amp.clarity);
				ampDiv.find('#note_articulation').val(amp.note_articulation);
				ampDiv.find('#sparkle').val(amp.sparkle);
				ampDiv.find('#fx_loop_serial').val(amp.fx_loop_serial);
				ampDiv.find('#fx_loop_parallel').val(amp.fx_loop_parallel);
				ampDiv.find('#has_line_out').val(amp.has_line_out);
				ampDiv.find('#has_resonance_or_depth').val(amp.has_resonance_or_depth);
				ampDiv.find('#eq_voicing').val(amp.eq_voicing);
				ampDiv.find('#tone_stack').val(amp.tone_stack)
				});
        }
    });

    $(document).ready(function () {
		$('#ampHomeButton').on('click', function() {
			window.location.href = "/";
		});

		function editAmp(amp_model, amp_manufacturer, amp_style, wattage, features, image, video, foot_switchable, number_of_channels, midi_capable, has_clean, sounds_like_players, percussive, percussive_level_amount, feel_overall, feel_low_end, feel_high_end, feel_rating, compression_level, compression_level_amount, dynamic_feel_punch_vs_compression, easy_to_play, easy_to_play_amount, sound_good_low_volume, preferred_speaker_combination, best_music_genre_served, price_point_new, price_point_used, popularity, boutique, rarity, year_introduced, di_capable, power_scaling, has_variac, has_switchable_wattage, gain_rating, eq_frustration_level, house_friendly, overall_value_for_price_point, clarity, note_articulation, sparkle, fx_loop_serial, fx_loop_parallel, has_line_out, has_resonance_or_depth, eq_voicing, tone_stack) {

	            $.post("/edit_amp", {
	            	amp_model: amp_model,
	            	amp_manufacturer: amp_manufacturer,
	            	amp_style: amp_style,
	            	wattage: wattage,
	            	features: features,
					image: image,
					video: video,
					foot_switchable: foot_switchable,
					number_of_channels: number_of_channels,
					midi_capable: midi_capable,
					has_clean: has_clean,
					sounds_like_players: sounds_like_players,
					percussive: percussive,
					percussive_level_amount: percussive_level_amount,
					feel_overall: feel_overall,
					feel_low_end: feel_low_end,
					feel_high_end: feel_high_end,
					feel_rating: feel_rating,
					compression_level: compression_level,
					compression_level_amount: compression_level_amount,
					dynamic_feel_punch_vs_compression: dynamic_feel_punch_vs_compression,
					easy_to_play: easy_to_play,
					easy_to_play_amount: easy_to_play_amount,
					sound_good_low_volume: sound_good_low_volume,
					preferred_speaker_combination: preferred_speaker_combination,
					best_music_genre_served: best_music_genre_served,
					price_point_new: price_point_new,
					price_point_used: price_point_used,
					popularity: popularity,
					boutique: boutique,
					rarity: rarity,
					year_introduced: year_introduced,
					di_capable: di_capable,
					power_scaling: power_scaling,
					has_variac: has_variac,
					has_switchable_wattage: has_switchable_wattage,
					gain_rating: gain_rating,
					eq_frustration_level: eq_frustration_level,
					house_friendly: house_friendly,
					overall_value_for_price_point: overall_value_for_price_point,
					clarity: clarity,
					note_articulation: note_articulation,
					sparkle: sparkle,
					fx_loop_serial: fx_loop_serial,
					fx_loop_parallel: fx_loop_parallel,
					has_line_out: has_line_out,
					has_resonance_or_depth: has_resonance_or_depth,
					eq_voicing: eq_voicing,
					tone_stack: tone_stack

	            }, function(response) {
	            	window.location.href = "/";
	            });

        }

        $("#save_amp").click(function() {
            editAmp(
                queryString["id"],
				$("#amp_model").val(),
            	$("#amp_manufacturer").val(),
            	$("#amp_style").val(),
            	$("#wattage").val(),
				$("#features").val(),
				$("#image").val(),
				$("#video").val(),
				$("#foot_switchable").val(),
				$("#number_of_channels").val(),
				$("#midi_capable").val(),
				$("#has_clean").val(),
				$("#sounds_like_players").val(),
				$("#percussive").val(),
				$("#percussive_level_amount").val(),
				$("#feel_overall").val(),
				$("#feel_low_end").val(),
				$("#feel_high_end").val(),
				$("#feel_rating").val(),
				$("#compression_level").val(),
				$("#compression_level_amount").val(),
				$("#dynamic_feel_punch_vs_compression").val(),
				$("#easy_to_play").val(),
				$("#easy_to_play_amount").val(),
				$("#sound_good_low_volume").val(),
				$("#preferred_speaker_combination").val(),
				$("#best_music_genre_served").val(),
				$("#price_point_new").val(),
				$("#price_point_used").val(),
				$("#popularity").val(),
				$("#boutique").val(),
				$("#rarity").val(),
				$("#year_introduced").val(),
				$("#di_capable").val(),
				$("#power_scaling").val(),
				$("#has_variac").val(),
				$("#has_switchable_wattage").val(),
				$("#gain_rating").val(),
				$("#eq_frustration_level").val(),
				$("#house_friendly").val(),
				$("#overall_value_for_price_point").val(),
				$("#clarity").val(),
				$("#note_articulation").val(),
				$("#sparkle").val(),
				$("#fx_loop_serial").val(),
				$("#fx_loop_parallel").val(),
				$("#has_line_out").val(),
				$("#has_resonance_or_depth").val(),
				$("#eq_voicing").val(),
				$("#tone_stack").val()

			);
        });
	});
	</script>
</body>
</html>
